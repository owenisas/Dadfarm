import{o as S,ae as $,aU as B,$ as M,a as g,aV as D,L as N,aW as j,r as H,e as s,w as o,aE as O,a7 as d,aD as p,aX as z,aF as K,s as y,a6 as k,a8 as W,ac as Q,a9 as X,a4 as u,aa as _,a_ as V,_ as Z,v as C,a5 as G,f as w,ao as I,a1 as J}from"./index.90141216.js";import{a as Y,b as ee,_ as te,g as ae,s as se}from"./suprised.e81e7efc.js";import{V as ne}from"./VCheckbox.7339e82e.js";const E="hcaptcha-api-script-id",P="_hcaptchaOnLoad";let x,R;const v=new Promise((a,t)=>{x=a,R=t});function oe(a){if(window.hcaptcha)return x(),v;if(document.getElementById(E))return v;window[P]=x;const t=re(a),n=document.createElement("script");return n.id=E,n.src=t,n.async=!0,n.defer=!0,n.onerror=c=>{console.error("Failed to load api: "+t,c),R("Failed to load api.js")},document.head.appendChild(n),v}function re(a){let t=a.apiEndpoint;return t=l(t,"render","explicit"),t=l(t,"onload",P),t=l(t,"recaptchacompat",a.reCaptchaCompat===!1?"off":null),t=l(t,"hl",a.language),t=l(t,"sentry",a.sentry),t=l(t,"endpoint",a.endpoint),t=l(t,"assethost",a.assethost),t=l(t,"imghost",a.imghost),t=l(t,"reportapi",a.reportapi),t}function l(a,t,n){if(n!=null){const c=a.includes("?")?"&":"?";return a+c+t+"="+encodeURIComponent(n)}return a}var ie=(a,t)=>{for(const[n,c]of t)a[n]=c;return a};const le={name:"VueHcaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String,default:void 0},size:{type:String,default:void 0},tabindex:{type:String,default:void 0},language:{type:String,default:void 0},reCaptchaCompat:{type:Boolean,default:!0},challengeContainer:{type:String,default:void 0},rqdata:{type:String,default:void 0},sentry:{type:Boolean,default:!0},apiEndpoint:{type:String,default:"https://hcaptcha.com/1/api.js"},endpoint:{type:String,default:void 0},reportapi:{type:String,default:void 0},assethost:{type:String,default:void 0},imghost:{type:String,default:void 0}},data:()=>({widgetId:null,hcaptcha:null,renderedCb:null}),mounted(){return oe(this.$props).then(this.onApiLoaded).catch(this.onError)},unmounted(){this.teardown()},destroyed(){this.teardown()},methods:{teardown(){this.widgetId&&(this.hcaptcha.reset(this.widgetId),this.hcaptcha.remove(this.widgetId))},onApiLoaded(){this.hcaptcha=window.hcaptcha;const a={sitekey:this.sitekey,theme:this.theme,size:this.size,tabindex:this.tabindex,callback:this.onVerify,"expired-callback":this.onExpired,"chalexpired-callback":this.onChallengeExpired,"error-callback":this.onError,"open-callback":this.onOpen,"close-callback":this.onClose};this.challengeContainer&&(a["challenge-container"]=this.challengeContainer),this.widgetId=this.hcaptcha.render(this.$el,a),this.rqdata&&this.hcaptcha.setData(this.widgetId,{rqdata:this.rqdata}),this.onRendered()},execute(){this.widgetId?(this.hcaptcha.execute(this.widgetId),this.onExecuted()):this.renderedCb=()=>{this.renderedCb=null,this.execute()}},executeAsync(){if(this.widgetId)return this.onExecuted(),this.hcaptcha.execute(this.widgetId,{async:!0});let a;const t=new Promise(n=>{a=n});return this.renderedCb=()=>{this.renderedCb=null,a()},t.then(this.executeAsync)},reset(){this.widgetId?(this.hcaptcha.reset(this.widgetId),this.onReset()):this.$emit("error","Element is not rendered yet and thus cannot reset it. Wait for `rendered` event to safely call reset.")},onRendered(){this.$emit("rendered"),this.renderedCb&&this.renderedCb()},onExecuted(){this.$emit("executed")},onReset(){this.$emit("reset")},onError(a){this.$emit("error",a),this.reset()},onVerify(){const a=this.hcaptcha.getResponse(this.widgetId),t=this.hcaptcha.getRespKey(this.widgetId);this.$emit("verify",a,t)},onExpired(){this.$emit("expired")},onChallengeExpired(){this.$emit("challengeExpired")},onOpen(){this.$emit("opened")},onClose(){this.$emit("closed")}}},de={id:"hcap-script"};function ce(a,t,n,c,f,b){return S(),$("div",de)}var he=ie(le,[["render",ce]]);const ue={class:"auth-wrapper d-flex align-center justify-center pa-4"},pe={class:"d-flex"},me=["innerHTML"],fe=d("h5",{class:"text-h5 font-weight-semibold mb-1"}," Earning starts here \u{1F680} ",-1),ge=d("p",{class:"mb-0"}," Make your app management easy and fun! ",-1),ye={class:"d-flex align-center mt-1 mb-4"},_e=d("span",{class:"me-1"},"I agree to",-1),we=d("a",{href:"javascript:void(0)",class:"text-primary"},"privacy policy & terms",-1),ve=d("span",null,"Already have an account?",-1),xe=d("span",{class:"mx-4"},"or",-1),be={__name:"register",setup(a){const t=B(),n=M(),c=async()=>{try{const e=await J.post("/register",i.value);if(e.status===200){console.log(e.data);const r=e.data.session_token;localStorage.setItem("session_token",r),alert(e.data.message),n.commit("setLoggedIn",!0),n.commit("setUser",e.data.username),await t.push("/")}else throw alert(e.data.message),new Error("Network response was not ok")}catch(e){console.error("There was a problem with the fetch operation:",e)}},f=g(null),b=e=>{f.value=e},i=g({username:"",email:"",password:"",privacyPolicies:!1,hcaptcharesponse:f}),T=[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid",e=>e&&e.length<=255||"E-mail must be less than 255 characters"],A=[e=>!!e||"Username cannot be blank",e=>e&&e.length<=20||"Username must be less than 20 characters"],L=[e=>!!e||"Password is required",e=>e.length>=8||"Password must be at least 8 characters",e=>/[A-Z]/.test(e)||"Password must contain at least one uppercase letter",e=>/[a-z]/.test(e)||"Password must contain at least one lowercase letter",e=>/\d/.test(e)||"Password must contain at least one digit",e=>e&&e.length<=255||"Password must be less than 255 characters"],F=D(),U=N(()=>F.global.name.value==="light"?Y:ee),m=g(!1);return j(()=>{window.location.reload()}),(e,r)=>{const q=H("RouterLink");return S(),$("div",ue,[s(G,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:o(()=>[s(O,{class:"justify-center"},{prepend:o(()=>[d("div",pe,[d("div",{innerHTML:p(z)},null,8,me)])]),default:o(()=>[s(K,{class:"font-weight-semibold text-2xl text-uppercase"},{default:o(()=>[y(" Owenisas ")]),_:1})]),_:1}),s(k,{class:"pt-2"},{default:o(()=>[fe,ge]),_:1}),s(k,null,{default:o(()=>[s(W,{onSubmit:r[5]||(r[5]=Q(()=>{},["prevent"]))},{default:o(()=>[s(X,null,{default:o(()=>[s(u,{cols:"12"},{default:o(()=>[s(_,{modelValue:i.value.username,"onUpdate:modelValue":r[0]||(r[0]=h=>i.value.username=h),rules:A,required:"",maxlength:20,label:"Username"},null,8,["modelValue"])]),_:1}),s(u,{cols:"12"},{default:o(()=>[s(_,{modelValue:i.value.email,"onUpdate:modelValue":r[1]||(r[1]=h=>i.value.email=h),required:"",rules:T,label:"Email",maxlength:255,type:"email"},null,8,["modelValue"])]),_:1}),s(u,{cols:"12"},{default:o(()=>[s(_,{modelValue:i.value.password,"onUpdate:modelValue":r[2]||(r[2]=h=>i.value.password=h),label:"Password",rules:L,required:"",maxlength:255,type:m.value?"text":"password","append-inner-icon":m.value?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":r[3]||(r[3]=h=>m.value=!m.value)},null,8,["modelValue","type","append-inner-icon"]),d("div",ye,[s(ne,{id:"privacy-policy",modelValue:i.value.privacyPolicies,"onUpdate:modelValue":r[4]||(r[4]=h=>i.value.privacyPolicies=h),inline:""},null,8,["modelValue"]),s(V,{for:"privacy-policy",style:{opacity:"1"}},{default:o(()=>[_e,we]),_:1})]),s(V,null,{default:o(()=>[s(p(he),{ref:"hCaptcha",sitekey:"d81c1918-e893-42aa-9979-202cac1697aa",onVerify:b},null,512)]),_:1}),s(Z,{block:"",type:"submit",onClick:c},{default:o(()=>[y(" Sign up ")]),_:1})]),_:1}),s(u,{cols:"12",class:"text-center text-base"},{default:o(()=>[ve,s(q,{class:"text-primary ms-2",to:"login"},{default:o(()=>[y(" Sign in instead ")]),_:1})]),_:1}),s(u,{cols:"12",class:"d-flex align-center"},{default:o(()=>[s(C),xe,s(C)]),_:1}),s(u,{cols:"12",class:"text-center"},{default:o(()=>[s(te)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(w,{class:"auth-footer-start-tree d-none d-md-block",src:p(ae),width:380},null,8,["src"]),s(w,{src:p(se),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),s(w,{class:"auth-footer-mask d-none d-md-block",src:p(U)},null,8,["src"])])}}};typeof I=="function"&&I(be);export{be as default};
