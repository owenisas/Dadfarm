import{y as te,z as le,I as oe,A as ne,B as se,C as re,D as ie,E as ce,F as ue,G as de,H as me,J as fe,K as ve,L,M as pe,N as ye,O as _e,P as be,Q as ge,R as we,S as he,T as Ce,U as Ve,W as Ae,X as ke,e,Y as xe,Z as Y,x as I,_ as h,$ as Ie,a as p,a0 as Pe,a1 as q,a2 as K,o as A,c as j,a3 as Se,w as a,a4 as m,a5 as k,a6 as w,p as Te,f as Re,a7 as l,v as J,a8 as G,a9 as x,aa as S,ab as Q,s as _,ac as X,ad as De,ae as $,af as N,ag as U,t as g,ah as $e,ai as Fe,aj as Ee,ak as Le,al as Ne,am as z,an as Ue,ao as H}from"./index.90141216.js";import{C as Oe}from"./cropper.esm.68fb77c3.js";import{V as Me}from"./VCheckbox.7339e82e.js";import{_ as Be}from"./AccountSettingsNotification.60eff490.js";const Z=te("v-alert-title"),ze=["success","info","warning","error"],je=le({name:"VAlert",props:{border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:oe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>ze.includes(t)},...ne(),...se(),...re(),...ie(),...ce(),...ue(),...de(),...me(),...fe({variant:"flat"})},emits:{"update:modelValue":t=>!0},setup(t,b){let{slots:s}=b;const f=ve(t,"modelValue"),c=L(()=>{var u;if(t.icon!==!1)return t.type?(u=t.icon)!=null?u:`$${t.type}`:t.icon}),y=L(()=>{var u;return{color:(u=t.color)!=null?u:t.type,variant:t.variant}}),{themeClasses:v}=pe(t),{colorClasses:P,colorStyles:T,variantClasses:R}=ye(y),{densityClasses:F}=_e(t),{dimensionStyles:d}=be(t),{elevationClasses:n}=ge(t),{locationStyles:D}=we(t),{positionClasses:O}=he(t),{roundedClasses:M}=Ce(t),{textColorClasses:B,textColorStyles:o}=Ve(Ae(t,"borderColor")),{t:r}=ke(),i=L(()=>({"aria-label":r(t.closeLabel),onClick(u){f.value=!1}}));return()=>{var u,V;const C=!!(s.prepend||c.value),E=!!(s.title||t.title),ee=!!(t.text||s.text),ae=!!(s.close||t.closable);return f.value&&e(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},v.value,P.value,F.value,n.value,O.value,M.value,R.value],style:[T.value,d.value,D.value],role:"alert"},{default:()=>[xe(!1,"v-alert"),t.border&&e("div",{key:"border",class:["v-alert__border",B.value],style:o.value},null),C&&e(Y,{key:"prepend",defaults:{VIcon:{density:t.density,icon:c.value,size:t.prominent?44:28}}},{default:()=>[e("div",{class:"v-alert__prepend"},[s.prepend?s.prepend():c.value&&e(I,null,null)])]}),e("div",{class:"v-alert__content"},[E&&e(Z,{key:"title"},{default:()=>[s.title?s.title():t.title]}),ee&&(s.text?s.text():t.text),(u=s.default)==null?void 0:u.call(s)]),s.append&&e("div",{key:"append",class:"v-alert__append"},[s.append()]),ae&&e(Y,{key:"close",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var W;return[e("div",{class:"v-alert__close"},[(W=(V=s.close)==null?void 0:V.call(s,{props:i.value}))!=null?W:e(h,i.value,null)])]}})]})}}}),Ge={ref:"refForm",class:"d-flex flex-column justify-center gap-5"},We={class:"d-flex flex-wrap gap-2"},Ye=l("span",{class:"d-none d-sm-block"},"Upload new photo",-1),qe=l("span",{class:"d-none d-sm-block"},"Reset",-1),Ke=l("p",{class:"text-body-1 mb-0"}," Allowed JPG, GIF or PNG. Max size of 800K ",-1),He=l("p",{class:"mb-0"}," Once you delete your account, there is no going back. Please be certain. ",-1),Je={__name:"AccountSettingsAccount",setup(t){const b=Ie(),s=p(),f=p(null),c=p(null),y=p(!1),v=[o=>!!o||"Please confirm account deactivation"],P=p(!0),T=()=>{const o={};for(const r in c.value)c.value[r]!==f.value[r]&&(o[r]={original:f.value[r],updated:c.value[r]});return o},R=()=>{c.value=structuredClone(K(f.value))},F=o=>{const r=new FileReader,{files:i}=o.target;i&&i.length&&(r.readAsDataURL(i[0]),r.onload=()=>{typeof r.result=="string"&&De().then(()=>{const u=document.createElement("img");u.style.display="none",u.src=r.result,document.body.appendChild(u),u.onload=()=>{const V=new Oe(u,{aspectRatio:1,viewMode:3,autoCropArea:1,center:!0,guides:!1,movable:!1,zoomable:!1,rotatable:!1,scalable:!1,ready:function(){const C=V.getCroppedCanvas();C?c.value.avatarImg=C.toDataURL("image/jpeg",1):console.warn("Failed to crop image:",u.src),V.destroy(),document.body.removeChild(u)}})}})})},d=()=>{c.value.avatarImg=f.value.avatarImg},n=p(""),D=p("");function O(o,r){const i=o.split(","),u=i[0].match(/:(.*?);/)[1],V=atob(i[1]);let C=V.length;const E=new Uint8Array(C);for(;C--;)E[C]=V.charCodeAt(C);return new File([E],r,{type:u})}const M=async()=>{const o=T();if(console.log(o),Object.keys(o).length>0){const r=new FormData;o.avatarImg&&r.append("image0",O(c.value.avatarImg,"avatar.jpg")),delete o.avatarImg,r.append("UserData",JSON.stringify(o));try{const i=await q.post("/account/settings",r);i.status===200?localStorage.setItem("session_token",i.data.session_token):i.status===202&&(i.data.email_error?D.value=i.data.email_error:i.data.username_error&&(n.value=i.data.username_error)),console.log(i.data)}catch(i){console.error(i)}}},B=[o=>!!o||"E-mail is required",o=>/.+@.+\..+/.test(o)||"E-mail must be valid",o=>o&&o.length<=255||"E-mail must be less than 255 characters"];return L(()=>b.state.user),Pe(async()=>{try{const o=await q.post("/private-settings");o.status===200?(f.value={username:o.data.username,avatarImg:o.data.avatarImg,email:o.data.email,org:"ThemeSelection",phone:"+1 (917) 543-9876",address:"123 Main St, New York, NY 10001",state:"New York",zip:"10001",country:o.data.location,language:"English",timezone:"(GMT-11:00) International Date Line West",currency:"USD"},c.value=structuredClone(K(f.value)),P.value=!1):b.commit("loadInitialState")}catch(o){console.error(o)}}),(o,r)=>P.value?(A(),j(Se,{key:0})):(A(),j(x,{key:1},{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(k,{title:"Account Details"},{default:a(()=>[e(w,{class:"d-flex"},{default:a(()=>[e(Te,{rounded:"lg",size:"100",class:"me-6"},{default:a(()=>[e(Re,{src:c.value.avatarImg},null,8,["src"])]),_:1}),l("form",Ge,[l("div",We,[e(h,{color:"primary",onClick:r[0]||(r[0]=i=>{var u;return(u=s.value)==null?void 0:u.click()})},{default:a(()=>[e(I,{icon:"mdi-cloud-upload-outline",class:"d-sm-none"}),Ye]),_:1}),l("input",{ref_key:"refInputEl",ref:s,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:"",onInput:F},null,544),e(h,{type:"reset",color:"error",variant:"tonal",onClick:d},{default:a(()=>[qe,e(I,{icon:"mdi-refresh",class:"d-sm-none"})]),_:1})]),Ke],512)]),_:1}),e(J),e(w,null,{default:a(()=>[e(G,{class:"mt-6"},{default:a(()=>[e(x,null,{default:a(()=>[e(m,{md:"6",cols:"12"},{default:a(()=>[e(S,{modelValue:c.value.username,"onUpdate:modelValue":r[1]||(r[1]=i=>c.value.username=i),error:n.value.length!==0,"error-messages":n.value,label:"Username"},null,8,["modelValue","error","error-messages"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(S,{modelValue:c.value.email,"onUpdate:modelValue":r[2]||(r[2]=i=>c.value.email=i),rules:B,error:D.value.length!==0,"error-messages":D.value,label:"E-mail",type:"email"},null,8,["modelValue","error","error-messages"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(Q,{modelValue:c.value.country,"onUpdate:modelValue":r[3]||(r[3]=i=>c.value.country=i),label:"Country",items:["USA","Canada","UK","India","Australia"]},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(h,{onClick:M},{default:a(()=>[_(" Save changes ")]),_:1}),e(h,{color:"secondary",variant:"tonal",type:"reset",onClick:X(R,["prevent"])},{default:a(()=>[_(" Reset ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(k,{title:"Delete Account"},{default:a(()=>[e(w,null,{default:a(()=>[e(je,{color:"warning",variant:"tonal",class:"mb-4"},{default:a(()=>[e(Z,{class:"mb-1"},{default:a(()=>[_(" Are you sure you want to delete your account? ")]),_:1}),He]),_:1}),l("div",null,[e(Me,{modelValue:y.value,"onUpdate:modelValue":r[4]||(r[4]=i=>y.value=i),rules:v,label:"I confirm my account deactivation"},null,8,["modelValue"])]),e(h,{disabled:!y.value,color:"error",class:"mt-3"},{default:a(()=>[_(" Deactivate Account ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1}))}},Qe=l("p",{class:"text-base font-weight-medium mt-2"}," Password Requirements: ",-1),Xe={class:"d-flex flex-column gap-y-3"},Ze={class:"font-weight-medium"},ea=l("p",{class:"font-weight-semibold"}," Two factor authentication is not enabled yet. ",-1),aa=l("p",null,[_(" Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in. "),l("a",{href:"javascript:void(0)",class:"text-decoration-none"},"Learn more.")],-1),ta={class:"d-flex align-center flex-wrap mb-3"},la={class:"text-h6 mb-0 me-3"},oa={class:"text-base font-weight-semibold"},na={class:"me-3"},sa=l("thead",null,[l("tr",null,[l("th",{scope:"col"}," BROWSER "),l("th",{scope:"col"}," DEVICE "),l("th",{scope:"col"}," LOCATION "),l("th",{scope:"col"}," RECENT ACTIVITIES ")])],-1),ra={__name:"AccountSettingsSecurity",setup(t){const b=p(!1),s=p(!1),f=p(!1),c=p("12345678"),y=p("87654321"),v=p("87654321"),P=["Minimum 8 characters long - the more, the better","At least one lowercase character","At least one number, symbol, or whitespace character"],T=[{name:"Server Key 1",key:"23eaf7f0-f4f7-495e-8b86-fad3261282ac",createdOn:"28 Apr 2021, 18:20 GTM+4:10",permission:"Full Access"},{name:"Server Key 2",key:"bb98e571-a2e2-4de8-90a9-2e231b5e99",createdOn:"12 Feb 2021, 10:30 GTM+2:30",permission:"Read Only"},{name:"Server Key 3",key:"2e915e59-3105-47f2-8838-6e46bf83b711",createdOn:"28 Dec 2020, 12:21 GTM+4:10",permission:"Full Access"}],R=[{browser:"Chrome on Windows",device:"HP Spectre 360",location:"New York, NY",recentActivity:"28 Apr 2022, 18:20",deviceIcon:{icon:"mdi-microsoft-windows",color:"primary"}},{browser:"Chrome on iPhone",device:"iPhone 12x",location:"Los Angeles, CA",recentActivity:"20 Apr 2022, 10:20",deviceIcon:{icon:"mdi-cellphone",color:"error"}},{browser:"Chrome on Android",device:"Oneplus 9 Pro",location:"San Francisco, CA",recentActivity:"16 Apr 2022, 04:20",deviceIcon:{icon:"mdi-android",color:"success"}},{browser:"Chrome on MacOS",device:"Apple iMac",location:"New York, NY",recentActivity:"28 Apr 2022, 18:20",deviceIcon:{icon:"mdi-apple",color:"secondary"}},{browser:"Chrome on Windows",device:"HP Spectre 360",location:"Los Angeles, CA",recentActivity:"20 Apr 2022, 10:20",deviceIcon:{icon:"mdi-microsoft-windows",color:"primary"}},{browser:"Chrome on Android",device:"Oneplus 9 Pro",location:"San Francisco, CA",recentActivity:"16 Apr 2022, 04:20",deviceIcon:{icon:"mdi-android",color:"success"}}];return(F,d)=>(A(),j(x,null,{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(k,{title:"Change Password"},{default:a(()=>[e(G,null,{default:a(()=>[e(w,null,{default:a(()=>[e(x,{class:"mb-3"},{default:a(()=>[e(m,{cols:"12",md:"6"},{default:a(()=>[e(S,{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=n=>c.value=n),type:b.value?"text":"password","append-inner-icon":b.value?"mdi-eye-off-outline":"mdi-eye-outline",label:"Current Password","onClick:appendInner":d[1]||(d[1]=n=>b.value=!b.value)},null,8,["modelValue","type","append-inner-icon"])]),_:1})]),_:1}),e(x,null,{default:a(()=>[e(m,{cols:"12",md:"6"},{default:a(()=>[e(S,{modelValue:y.value,"onUpdate:modelValue":d[2]||(d[2]=n=>y.value=n),type:s.value?"text":"password","append-inner-icon":s.value?"mdi-eye-off-outline":"mdi-eye-outline",label:"New Password","onClick:appendInner":d[3]||(d[3]=n=>s.value=!s.value)},null,8,["modelValue","type","append-inner-icon"])]),_:1}),e(m,{cols:"12",md:"6"},{default:a(()=>[e(S,{modelValue:v.value,"onUpdate:modelValue":d[4]||(d[4]=n=>v.value=n),type:f.value?"text":"password","append-inner-icon":f.value?"mdi-eye-off-outline":"mdi-eye-outline",label:"Confirm New Password","onClick:appendInner":d[5]||(d[5]=n=>f.value=!f.value)},null,8,["modelValue","type","append-inner-icon"])]),_:1})]),_:1})]),_:1}),e(w,null,{default:a(()=>[Qe,l("ul",Xe,[(A(),$(N,null,U(P,n=>l("li",{key:n,class:"d-flex"},[l("div",null,[e(I,{size:"7",icon:"mdi-circle",class:"me-3"})]),l("span",Ze,g(n),1)])),64))])]),_:1}),e(w,{class:"d-flex flex-wrap gap-4"},{default:a(()=>[e(h,null,{default:a(()=>[_("Save changes")]),_:1}),e(h,{type:"reset",color:"secondary",variant:"tonal"},{default:a(()=>[_(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(k,{title:"Two-steps verification"},{default:a(()=>[e(w,null,{default:a(()=>[ea,aa,e(h,null,{default:a(()=>[_(" Enable two-factor authentication ")]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(k,{title:"Create an API key"},{default:a(()=>[e(x,null,{default:a(()=>[e(m,{cols:"12",md:"5","order-md":"0",order:"1"},{default:a(()=>[e(w,null,{default:a(()=>[e(G,{onSubmit:d[6]||(d[6]=X(()=>{},["prevent"]))},{default:a(()=>[e(x,null,{default:a(()=>[e(m,{cols:"12"},{default:a(()=>[e(Q,{label:"Choose the API key type you want to create",items:["Full Control","Modify","Read & Execute","List Folder Contents","Read Only","Read & Write"]})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(S,{label:"Name the API key"})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(h,{type:"submit",block:""},{default:a(()=>[_(" Create Key ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(k,{title:"API Key List & Access"},{default:a(()=>[e(w,null,{default:a(()=>[_(" An API key is a simple encrypted string that identifies an application without any principal. They are useful for accessing public data anonymously, and are used to associate API requests with your project for quota and billing. ")]),_:1}),e(w,{class:"d-flex flex-column gap-y-4"},{default:a(()=>[(A(),$(N,null,U(T,n=>l("div",{key:n.key,class:"bg-var-theme-background pa-4"},[l("div",ta,[l("h6",la,g(n.name),1),e($e,{label:"",color:"primary",size:"small"},{default:a(()=>[_(g(n.permission),1)]),_:2},1024)]),l("p",oa,[l("span",na,g(n.key),1),e(I,{size:18,icon:"mdi-content-copy",class:"cursor-pointer"})]),l("span",null,"Created on "+g(n.createdOn),1)])),64))]),_:1})]),_:1})]),_:1}),e(m,{cols:"12"},{default:a(()=>[e(k,{title:"Recent Devices"},{default:a(()=>[e(Fe,{class:"text-no-wrap"},{default:a(()=>[sa,l("tbody",null,[(A(),$(N,null,U(R,n=>l("tr",{key:n.recentActivity},[l("td",null,[e(I,{start:"",icon:n.deviceIcon.icon,color:n.deviceIcon.color},null,8,["icon","color"]),_(" "+g(n.browser),1)]),l("td",null,g(n.device),1),l("td",null,g(n.location),1),l("td",null,g(n.recentActivity),1)])),64))])]),_:1})]),_:1})]),_:1})]),_:1}))}},ia={class:"d-none d-sm-block"},ca={__name:"account-settings",setup(t){const b=Ee(),s=p(b.params.tab),f=[{title:"Account",icon:"mdi-account-outline",tab:"account"},{title:"Security",icon:"mdi-lock-open-outline",tab:"security"},{title:"Notifications",icon:"mdi-bell-outline",tab:"notification"}];return(c,y)=>(A(),$("div",null,[e(Ne,{modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=v=>s.value=v),"show-arrows":""},{default:a(()=>[(A(),$(N,null,U(f,v=>e(Le,{key:v.icon,value:v.tab},{default:a(()=>[e(I,{size:"20",start:"",icon:v.icon},null,8,["icon"]),l("div",ia,g(v.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(J),e(Ue,{modelValue:s.value,"onUpdate:modelValue":y[1]||(y[1]=v=>s.value=v),class:"mt-5 disable-tab-transition",touch:!1},{default:a(()=>[e(z,{value:"account"},{default:a(()=>[e(Je)]),_:1}),e(z,{value:"security"},{default:a(()=>[e(ra)]),_:1}),e(z,{value:"notification"},{default:a(()=>[e(Be)]),_:1})]),_:1},8,["modelValue"])]))}};typeof H=="function"&&H(ca);export{ca as default};
